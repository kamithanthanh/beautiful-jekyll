---
layout : post 
title : BKSEC 2019  
--- 

# Má»Ÿ Ä‘áº§u  
ÄÃ¢y lÃ  kÃ¬ thi chá»n Ä‘á»™i tuyá»ƒn chuáº©n bá»‹ cho SVATTT 2019 sáº¯p diá»…n ra.Trong kÃ¬ thi mÃ¬nh feed quÃ¡, cáº£m tháº¥y trÃ¬nh pwn cÃ²n khÃ¡ cÃ¹i cáº§n rÃ¨n luyá»‡n thÃªm.  ğŸ˜¥ğŸ˜¥ğŸ˜¥ MÃ¬nh cÃ³ há»i hint anh **chung96vn** Ä‘á»ƒ lÃ m ná»‘t máº¥y bÃ i cÃ²n láº¡i vÃ  tá»•ng há»£p láº¡i. NÃ³i chung lÃ  cÅ©ng há»c Ä‘Æ°á»£c nhiá»u vÃ  cáº£m giÃ¡c cÃ³ Ä‘á»™ng lá»±c try hard hÆ¡n cho kÃ¬ thi sáº¯p tá»›i. ğŸ˜ğŸ˜ğŸ˜ Náº¿u khÃ´ng muá»‘n bá»‹ táº¡ch láº§n ná»¯a.   

# Play Around  

ÄÃ¢y lÃ  bÃ i pwn Ä‘áº§u tiÃªn. Má»™t dáº¡ng bÃ i khÃ¡ quen thuá»™c vÃ  cÄƒn báº£n khi bÆ°á»›c vÃ o há»c pwnable.  

![](/Pwnable/BKSEC2019/playaround/hinh1.PNG)  

ChÃºng ta cÃ³ lá»—i trÃ n, stack thÃ¬ khÃ´ng cÃ³ canary nÃªn cÃ³ thá»ƒ trÃ n vá» Ä‘á»‹a chá»‰ trá»Ÿ vá» hÃ m ```vuln``` .   
CÃ´ng viá»‡c Ä‘áº§u tiÃªn lÃ  leak Ä‘Æ°á»£c libc. ChÃºng ta cÃ³ thá»ƒ ghi Ä‘Ã¨ lÃªn Ä‘á»‹a chá»‰ trá»Ÿ vá» Ä‘á»‹a chá»‰ plt cá»§a hÃ m printf vÃ  pass cho nÃ³ arguments lÃ  got cá»§a hÃ m ```printf```. NÃ³ sáº½ in ra Ä‘á»‹a chá»‰ cá»§a ```printf``` trong libc. Tá»« Ä‘Ã³ tÃ­nh toÃ¡n Ä‘Æ°á»£c Ä‘á»‹a chá»‰ cá»§a libc. Äá»“ng thá»i cáº§n trá»Ÿ láº¡i hÃ m ```main``` 1 láº§n ná»¯a.   
Cá»¥ thá»ƒ payload sáº½ cÃ³ dáº¡ng : 
```python 
payload = "a" * (0x80 + 8) + ret + pop_rdi + p64(0x601018) + p64(bin.sym['printf']) + ret + p64(bin.sym['vuln'])
``` 
Trong kÃ¬ thi khÃ´ng hiá»ƒu vÃ¬ lÃ­ do magic gÃ¬ mÃ  thay Ä‘á»‹a chá»‰ cá»§a ```got.printf``` vÃ o láº¡i khÃ´ng in Ä‘Æ°á»£c. Bá» vÃ o debug rÃµ rÃ ng nÃ³ cÃ³ gá»i hÃ m printf rá»“i ğŸ˜±ğŸ˜±ğŸ˜± Test thá»­ báº±ng cÃ¡c Ä‘á»‹a chá»‰ khÃ¡c thÃ¬ váº«n in ra Ä‘Æ°á»£c. Tháº¿ lÃ  mÃ¬nh thá»­ báº±ng Ä‘á»‹a chá»‰ ```got.setbuf``` thÃ¬ láº¡i Ä‘Æ°á»£c. Loay hoay chá»— nÃ y cÅ©ng tá»‘n kha khÃ¡ thá»i gian .  
CÃ´ng viá»‡c cÃ²n láº¡i chá»‰ lÃ  gá»i hÃ m ```system``` thÃ´i.  


